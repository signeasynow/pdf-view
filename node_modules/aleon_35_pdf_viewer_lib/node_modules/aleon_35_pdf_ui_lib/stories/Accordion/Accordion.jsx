import { h } from 'preact';
import styles from './Accordion.module.css';
import { Icon } from '../Icon/Icon'; // Update with the actual path
import ChevronDown from '../../assets/chevron-down.svg'; // Update with the actual path
import ChevronDownWhite from '../../assets/chevron-down-white.svg';
import { Text } from '../Text/Text';
import { ThemeContext } from '../../Theme';

export const Accordion = ({ title, content, isOpen, toggleAccordion, leftPadding = '10px', rightPadding = '10px' }) => {

  return (
    <ThemeContext.Consumer>
      {({ theme }) => (
        <div>
          <div className={styles.accordionBar} onClick={toggleAccordion} style={{ paddingLeft: leftPadding, paddingRight: rightPadding }}>
            <Text>{title}</Text>
            <div className={isOpen ? `${styles.chevronIcon} ${styles.open}` : styles.chevronIcon}>
              <Icon size="sm" src={theme.name === "dark" ? ChevronDownWhite : ChevronDown} alt="Toggle" />
            </div>
          </div>
          <div className={isOpen ? `${styles.content} ${styles.open}` : styles.content}>
            {content}
          </div>
        </div>
      )}
    </ThemeContext.Consumer>
  )
};
